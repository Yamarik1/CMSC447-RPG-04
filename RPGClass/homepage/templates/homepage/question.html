
{% load static %}

<!--the title is for the test.py in hearts_server, can change it to anything as long as you change it in tests-->
<title>quest</title>
<link rel="stylesheet" type="text/css" href="{% static 'homepage/questView.css' %}">
<h1>{{ quest.getName }}</h1>

<!-- Display the countdown timer in an element -->
<p id="time"></p>

<script>

{% for date in quest.date_set.all %}

// Set the date we're counting down to
var dateString = "{{date.getDate}}";
var countDownDate = new Date(dateString).getTime();

// Update the count down every 1 second
var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();

  // Find the distance between now and the count down date
  var distance = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  // Display the result in the element with id="time"
  document.getElementById("time").innerHTML = days + "d " + hours + "h "
  + minutes + "m " + seconds + "s ";

  // If the count down is finished, write some text
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("time").innerHTML = "Time's up!";
  }
}, 1000);

{% endfor %}

</script>


{% for question in quest.question_set.all %}


    <form action="{% url 'homepage:answer' course_id quest.id %} " method="post">
        {% csrf_token %}
        <fieldset class="question">

            <h2 class="question"> {{forloop.counter}}: {{ question.getQuestion }} </h2> <br>

            <!-- checks to see if there are any questions in the quest -->
            {% if question.choice_set.exists == False %}

                <p>This Question does not have any choices</p>

            {% else %}

                {% for choice in question.choice_set.all %}
                    <!-- name is given to a function getQuestion to allow multiple sets of radio buttons.-->
                    <input type="radio" name="{{question.getQuestion}}" id="choice{{ forloop.counter }}" value="{{ choice.id }}">
                    <label for="choice{{ forloop.counter }}">{{ choice.getChoice }}</label><br>

                {% endfor %}

            {% endif %}

            </fieldset>
        <br>


{% endfor %}
<input type="submit" value="Submit" id="submit">
</form>





