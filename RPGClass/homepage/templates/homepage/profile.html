{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'homepage/style.css' %}">

<!--
Need to transfer my style to a stylesheet but right now its causing some issues, and I need to
focus on the actual development of features    
<link rel="stylesheet" type="text/css" href="{% static 'homepage/profileView.css' %}">
-->

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script async src="../../static/profile/dynamicSkills.js"></script>

<style>
    body {
        background-image: url("../../static/profile/xp_background.jpg");
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-position: center;
        background-blend-mode: overlay;
        background-color: rgb(221, 227, 238);
    }

    .container{
		max-width: 1920px;
		min-width: 600px;
		margin-right: auto;
		margin-left: auto;
	}

    .profile-main{
        background-color: rgba(150, 150, 150, 0.6);

        margin: 3px;
        border: 2px solid gray;

        padding-left: 10px;
        padding-right: 10px;

        min-width: 480px;

        display: flex;
        flex-direction: column;
    }

    .profile-quests{
        background-color: rgba(150, 150, 150, 0.6);

        margin: 3px;
        border: 2px solid gray;

        padding-left: 10px;
        padding-right: 10px;

        min-width: 480px;

        display: flex;
        flex-direction: column;
    }

    .profile-inner{
        background-color: rgba(150, 150, 150, 0.6);

        margin: 3px;
        border: 2px solid gray;
        padding-left: 10px;
        padding-right: 10px;
    }

    .profile-questBlock{
        background-color: rgba(150, 150, 255, 0.6);

        margin: 3px;
        border: 2px solid gray;
        padding-left: 10px;
        padding-right: 10px;


    }

    .test-style{
        background-color: rgba(255, 255, 255, 0.616);

        margin: 5px;
        border: 3px solid gray;
        padding-left: 10px;
        padding-right: 10px;

        font-size: 20px;

        display: block;
    }

</style>

<head>
    <h1>Welcome to RPG Class!</h1>
    <!--This defines the list of links used in the navigation bar, which can be applied to the other pages as needed -->
    <ul>
        <li><a class = "nav" href="/homepage/">Homepage</a></li>
        <li><a class = "nav" href="/homepage/mainquest/">Main Quests</a> </li>
        <li><a class = "nav" href="/homepage/sidequest/">Side Quests</a> </li>
        <li><a class = "nav" href="/homepage/bosses/">Bosses</a> </li>
        <li><a class = "nav active" href="/homepage/profile/">Profile</a> </li>
         <form class="pofile_nickname" action="{% url 'accounts:update' %}" method="get" id="menu">
            {%csrf_token%}
            <button type="submit">Update Profile</button>
        </form>

    </ul>
</head>



<br>
<br>

<body>
    <div class="container">
        <div class="row justify-content-lg-center" style="margin: 0px">
            <!--Left side, User Profile and skills-->
            <div class="col-lg-4 profile-main justify-content-lg-center" style="overflow: auto; text-align: center;">
                <!--Top Section-->
                <div class="row justify-content-lg-center">
                    <div class="col-sm-3" style="margin: 25";>
                        <span id="user_icon">
                            <img src="../../static/profile/icon_default.jpg" alt="its you!" width="150" height="150">
                        </span>
                    </div>
                    <div class="col-sm-7 profile-inner" style="justify-content: center; flex-direction: column; display: inline;">
                        <h2 id="username" style="text-align: center;">Nickname: {{ user.student.getNickname }}</h2>
                        <br>
                        <h3>Enrolled Classes</h3>

                        {% if currstudent.course_set.exists == False %}
                            <h2>You arent enrolled in any courses!</h2>
                        {% else %}

                            {% for course in currstudent.course_set.all %}
                            <button><a href=" {% url 'homepage:profileS' course.id %}">{{course.getName}}</a></button>
                            {% endfor %}

                        {% endif %}


                    </div>
                </div>
                <!--Bottom Section-->
                <div class ="profile-inner">
                    <h3> Im not sure what to put here currently!</h3>
                    <h3> Perhaps a quick grade for all your classes? idk?</h3> 
                </div>
            </div>



            <!--Right side, Quick Quest View-->
            <div class="col-lg-6 profile-quests justify-content-lg-center" style="overflow: auto; text-align: center;">
          
                <!--Top Section-->
                <div class="row justify-content-lg-center">
                    <div class="container" style="display:inline">
                        <h2 style="display: inline-block; Margin: 50px">All Active Quests</h2>
                    </div> 
                </div>

                <!--Bottom Section-->
                <div class="row justify-content-lg-center" style="height: 300px">
                    {% if currstudent.course_set.exists == False %}
                        <h2>You arent enrolled in any courses!</h2>
                    {% else %}
                      
                        {% for course in currstudent.course_set.all %}
                            
                            <div class = "row justify-content-lg-center profile-inner">
                            <h2> {{course.getName}} </h2>

                            {% for quest in course.quest_set.all %}
                                <div class = "profile-questBlock">
                                    <h4>{{quest.getName}}</h4>
                                    <p>{{quest.getDesc}}</p>
                                </div>
                            {% endfor %}
                            </div>

                        {% endfor %}

                    {% endif %}
                </div>

            </div>
        </div>
    </div>

<h3>Profile total XP: {{ user.student.getXP }}</h3>
{% for course in user.student.student_course_set.all %}
<h2>course: {{course.getCourseName}}  XP: {{course.getXP}}  </h2>
{% endfor %}
</body>



<!--These are the same links as above, restated with a desciption of each one -->

<!--
<h2><a href="/homepage/mainquest/">Main Quests</a> </h2>
<p>Make sure to prepare for these quests! Make sure to complete some side quests to increase your level! </p>
<h2><a href="/homepage/sidequest/">Side Quests</a> </h2>
<p>Here you can get some extra practice with quests that will give you XP. Make sure to give these a try before trying the Main Quests and the Bosses!</p>
<h2><a href="/homepage/bosses/">Bosses</a></h2>
<p>Here you can take on some of the toughest challenges. Make sure to be prepared!</p>
<h2><a href="/homepage/profile/">Profile</a> </h2>
<p>Here you can check your level, XP, account details, and more.</p>
-->